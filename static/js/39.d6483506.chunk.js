(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[39],{1082:function(e,a,l){"use strict";l.r(a);var t=l(3),n=l.n(t),i=l(8),r=l(18),d=l(1),o=l(122),c=(l(493),l(479)),u=l(24),s=l(34),b=l(48),v=l(475),m=l(476),f=l(510),j=l(482),h=l(746),_=l(748),p=l(751),x=l(7);a.default=function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.wardrobes})),l=Object(o.c)((function(e){return e.products})),t=Object(d.useState)(!1),O=Object(r.a)(t,2),g=O[0],w=O[1];function k(){return(k=Object(i.a)(n.a.mark((function e(){var l,t,i,r,d,o,c,v,m,f,j,h,_,p,x,O,k,y,N,E,F,W,D,J,S,q,B,L,P,T;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=2;break}return e.abrupt("return");case 2:if(w(!0),!(i=a.newWardrobe).image_file){e.next=11;break}return(d=new FormData).append("image",i.image_file),e.next=9,Object(s.l)(d);case 9:(null===(o=e.sent)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.data)&&(i.image_url=null===o||void 0===o||null===(c=o.data)||void 0===c||null===(v=c.data)||void 0===v?void 0:v.url,i.image_url_thumb=null===o||void 0===o||null===(m=o.data)||void 0===m||null===(f=m.data)||void 0===f?void 0:f.thumb_url,i.image_file=null);case 11:if(!i.back_ground_file){e.next=18;break}return(h=new FormData).append("image",i.back_ground_file),e.next=16,Object(s.l)(h);case 16:(null===(_=e.sent)||void 0===_||null===(j=_.data)||void 0===j?void 0:j.data)&&(i.back_ground_url=null===_||void 0===_||null===(p=_.data)||void 0===p||null===(x=p.data)||void 0===x?void 0:x.url,i.back_ground_url_thumb=null===_||void 0===_||null===(O=_.data)||void 0===O||null===(k=O.data)||void 0===k?void 0:k.thumb_url,i.back_ground_file=null);case 18:if(!((null===i||void 0===i||null===(l=i.wardrobe_images)||void 0===l?void 0:l.length)>0)){e.next=31;break}if(y=new FormData,0,N=!1,E=[],null===i||void 0===i||i.wardrobe_images.forEach((function(e){"number"!==typeof(null===e||void 0===e?void 0:e.id)?(N=!0,y.append("images",e.file.data)):E.push(e)})),!N){e.next=29;break}return e.next=27,Object(u.q)(y);case 27:F=e.sent,null===i||void 0===i||i.wardrobe_images.forEach((function(e){var a,l;null===F||void 0===F||null===(a=F.data)||void 0===a||null===(l=a.data)||void 0===l||l.forEach((function(a){var l,t;if((null===e||void 0===e||null===(l=e.file)||void 0===l||null===(t=l.data)||void 0===t?void 0:t.name)===a.originalname){var n={};n.file_path=a.originalname,n.file_name=a.filename,n.image_url=a.url,n.thumb_url=a.thumb_url,n.mimetype=a.mimetype,E.push(n)}}))}));case 29:i.wardrobe_images=[],E.forEach((function(e){i.wardrobe_images.push(e)}));case 31:if(!i.collection_file){e.next=38;break}return(D=new FormData).append("image",i.collection_file),e.next=36,Object(s.l)(D);case 36:(null===(J=e.sent)||void 0===J||null===(W=J.data)||void 0===W?void 0:W.data)&&(i.collection_url=null===J||void 0===J||null===(S=J.data)||void 0===S||null===(q=S.data)||void 0===q?void 0:q.url,i.collection_url_thumb=null===J||void 0===J||null===(B=J.data)||void 0===B||null===(L=B.data)||void 0===L?void 0:L.thumb_url,i.collection_file=null);case 38:return e.next=40,Object(b.e)(i).catch((function(){w(!1)}));case 40:P=e.sent,w(!1),(null===P||void 0===P||null===(t=P.data)||void 0===t?void 0:t.status)&&(a.newWardrobe={},null===(T=history)||void 0===T||T.go(-1));case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.useEffect)((function(){e(Object(u.k)())}),[e]),Object(x.jsx)(d.Fragment,{children:Object(x.jsxs)("div",{className:"app-ecommerce-details",children:[g&&Object(x.jsxs)("div",{className:"loading",children:[Object(x.jsx)("div",{className:"effect-1 effects"}),Object(x.jsx)("div",{className:"effect-2 effects"}),Object(x.jsx)("div",{className:"effect-3 effects"})]}),Object(x.jsxs)(v.a,{className:"my-2 wardrobe-wrapper",children:[Object(x.jsx)(h.a,{wardrobe:a.newWardrobe}),Object(x.jsx)(m.a,{className:"wardrobe col-xl-6 col-sm-12",children:Object(x.jsx)(f.a,{className:"model",children:Object(x.jsxs)(j.a,{children:[Object(x.jsx)("h2",{className:"wardrobe-title",children:"Th\xf4ng tin m\u1eabu"}),Object(x.jsx)("div",{className:"wardrobe-body",children:Object(x.jsx)(_.a,{wardrobe:a.newWardrobe})})]})})})]}),Object(x.jsx)(v.a,{children:Object(x.jsx)(p.a,{wardrobe:a.newWardrobe,products:l.allProducts})}),Object(x.jsx)(c.a,{handleSubmitButton:function(){return k.apply(this,arguments)},isLoading:g})]})})}}}]);
//# sourceMappingURL=39.d6483506.chunk.js.map